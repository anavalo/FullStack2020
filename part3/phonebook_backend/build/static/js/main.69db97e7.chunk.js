(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},19:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(13),c=t.n(u),o=(t(19),t(2)),l=function(e){var n=e.person,t=e.remove;return r.a.createElement("li",null,n.name," ",n.number,r.a.createElement("button",{onClick:t},"Delete Entry"))},i=function(e){var n=e.newSearch,t=e.handleSearchChange;return r.a.createElement("form",null,r.a.createElement("div",null,"filter:",r.a.createElement("input",{value:n,onChange:t})))},m=function(e){var n=e.addName,t=e.newName,a=e.handleInputChange,u=e.handleNumberChange,c=e.newNum;return r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"name:",r.a.createElement("input",{value:t,onChange:a}),r.a.createElement("div",null,"number:",r.a.createElement("input",{value:c,onChange:u}))),r.a.createElement("button",{type:"submit"},"add"))},f=t(3),s=t.n(f),d="/api/persons",h=function(){return s.a.get(d).then((function(e){return e.data}))},b=function(e){return s.a.post(d,e).then((function(e){return e.data}))},v=function(e){return s.a.delete("".concat(d,"/").concat(e)).then((function(e){return e.data}))},E=Notification=function(e){var n=e.message;return""===n?null:r.a.createElement("div",{className:"error"},n)},p=function(){var e=Object(a.useState)(""),n=Object(o.a)(e,2),t=n[0],u=n[1],c=Object(a.useState)(""),f=Object(o.a)(c,2),s=f[0],d=f[1],p=Object(a.useState)(""),g=Object(o.a)(p,2),w=g[0],j=g[1],O=Object(a.useState)([]),C=Object(o.a)(O,2),N=C[0],S=C[1],k=Object(a.useState)(""),y=Object(o.a)(k,2),I=y[0],T=y[1];Object(a.useEffect)((function(){h().then((function(e){return S(e)}))}),[]);return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(E,{message:I}),r.a.createElement(i,{newSearch:t,handleSearchChange:function(e){u(e.target.value)}}),r.a.createElement("h3",null,"add a new"),r.a.createElement(m,{newNum:w,addName:function(e){e.preventDefault();var n={name:s,number:w};b(n).then((function(e){S(N.concat(e)),d(""),j(""),T("".concat(n.name," added")),setTimeout((function(){T("")}),1500)})).catch((function(e){T("Something is missing, error ".concat(e.response.status)),setTimeout((function(){T("")}),1500)}))},newName:s,handleInputChange:function(e){Object.values(N).some((function(n){return n.name===e.target.value}))?window.alert("".concat(e.target.value," is already in the Phonebook")):d(e.target.value)},handleNumberChange:function(e){j(e.target.value)}}),r.a.createElement("h2",null,"Numbers"),N.filter((function(e){return e.name.toLowerCase().includes(t)})).map((function(e){return r.a.createElement(l,{key:e.id,person:e,remove:function(){return window.confirm("Are you sure you want to delete?")?function(e){var n=N.filter((function(n){return n.id!==e}));v(e).then((function(){var t=N.findIndex((function(n){return n.id===e})),a=N[t].name;S(n),T("".concat(a," was deleted from server")),setTimeout((function(){T("")}),1500)}))}(e.id):null}})})))};c.a.render(r.a.createElement(p,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.69db97e7.chunk.js.map