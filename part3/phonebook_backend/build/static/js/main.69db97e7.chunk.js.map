{"version":3,"sources":["components/Name.js","components/Filter.js","components/PersonForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Name","props","person","remove","name","number","onClick","Filter","newSearch","handleSearchChange","value","onChange","PersonForm","addName","newName","handleInputChange","handleNumberChange","newNum","onSubmit","type","url","axios","get","then","response","data","nameObject","post","id","delete","Notification","message","className","App","useState","setNewSearch","setNewName","setNewNum","persons","setPersons","error","setError","useEffect","nameService","initialNames","event","target","preventDefault","concat","setTimeout","catch","status","Object","values","some","d","window","alert","filter","p","toLowerCase","includes","map","key","confirm","newJson","index","findIndex","item","findName","eliminate","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.69db97e7.chunk.js","sourcesContent":["import React from 'react'\n\nconst Name = (props) =>{\n    const {person, remove} = props\n\n    return(\n        <li>{person.name} {person.number}\n        <button onClick = {remove}>Delete Entry</button>\n        </li>\n    )\n    }\nexport default Name","import React from 'react'\n\nconst Filter = (props)=>{\n  const {newSearch, handleSearchChange} = props\n\n    return (\n<form>\n<div>filter:\n  <input value={newSearch} onChange={handleSearchChange}></input>\n</div>\n</form>\n    );\n}\n\nexport default Filter","import React from 'react'\n \nconst PersonForm = (props)=>{\n\n    const {addName, newName, handleInputChange, handleNumberChange, newNum} = props\n\nreturn(\n    <form onSubmit={addName}>\n    <div>name:\n      <input value={newName} onChange={handleInputChange}>\n      </input>\n      <div>number:\n        <input value={newNum} onChange={handleNumberChange}></input>\n      </div>\n    </div>\n    <button type=\"submit\">add</button>\n  </form>\n)\n}\n \nexport default PersonForm ","import axios from 'axios'\nconst url = '/api/persons'\n\nconst getAll = () =>{\n    const request = axios\n    .get(url)\n    return request.then(response => response.data)\n}\n\nconst create = nameObject => {\n    const request = axios\n    .post(url, nameObject)\n    return request.then(response=>response.data)\n}\n\nconst elim = id => {\n    const request = axios\n    .delete(`${url}/${id}`)\n    return request.then(response=>response.data)\n}\n\n\nexport default {getAll, create, elim}","import React from 'react'\n\nexport default Notification = ({message})=>{\n    if (message===''){\n        return null\n    }\n    return (\n        <div className=\"error\">\n            {message}\n        </div>\n    )\n}   ","import React, {useState, useEffect} from 'react'\nimport Name from './components/Name'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport nameService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n\n  const [ newSearch, setNewSearch] = useState('')\n  const [ newName, setNewName ] = useState('')\n  const [ newNum, setNewNum] = useState('')\n  const [ persons, setPersons] = useState([])\n  const [ error, setError] = useState('')\n\n  useEffect(()=>{\n    nameService\n    .getAll()\n    .then(initialNames => setPersons(initialNames))\n  }, [])\n\n  const handleInputChange = (event) =>{\n    (Object.values(persons).some(d => d.name === event.target.value))?\n     window.alert(`${event.target.value} is already in the Phonebook`)\n      : //pass\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event)=>{\n    setNewNum(event.target.value)\n  }\n\n  const addName = (event) =>{\n    event.preventDefault()\n    const nameObject = {\n      name: newName,\n      number: newNum,\n    }\n\n    nameService\n    .create(nameObject)\n    .then(data => {\n      setPersons(persons.concat(data))\n      setNewName('')\n      setNewNum('')\n      setError(`${nameObject.name} added`)\n      setTimeout(()=>{\n        setError('')\n      }, 1500)\n    })\n    .catch(error => {\n      setError(`Something is missing, error ${error.response.status}`)\n      setTimeout(()=>{\n        setError('')\n      }, 1500)\n    })\n  }\n\n  const eliminate = (id) =>{\n    const newJson = persons.filter(p => p.id !== id)\n\n    nameService\n    .elim(id)\n    .then(()=>{\n      const index = persons.findIndex(item => item.id === id)\n      const findName = persons[index].name\n      setPersons(newJson)\n      setError(`${findName} was deleted from server`)\n      setTimeout(()=>{\n        setError('')\n      }, 1500)\n    }\n    )\n  }\n  \n  const handleSearchChange = (event)=>{\n    setNewSearch(event.target.value)\n  }\n\n  const rows = () => persons.filter(p => p.name.toLowerCase().includes(newSearch)).map(person =>\n    <Name key = {person.id} \n    person={person}\n    remove = {() => window.confirm('Are you sure you want to delete?')? eliminate(person.id) : null}></Name>)\n\n  return (\n    <div>\n\n      <h2>Phonebook</h2>\n\n        <Notification message={error}/>\n\n        <Filter \n        newSearch={newSearch} \n        handleSearchChange={handleSearchChange}/>\n\n      <h3>add a new</h3>\n\n        <PersonForm \n        newNum = {newNum} \n        addName={addName} \n        newName={newName} \n        handleInputChange={handleInputChange} \n        handleNumberChange={handleNumberChange}/>\n\n      <h2>Numbers</h2>\n      {rows()}\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}